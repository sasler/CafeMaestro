<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CafeMaestro.SettingsPage"
             Title="Settings">
       <ScrollView BackgroundColor="{DynamicResource PageBackgroundColor}">
              <VerticalStackLayout Padding="30,20"
                            Spacing="15"
                            BackgroundColor="{DynamicResource PageBackgroundColor}">

                     <!-- Add Page Icon -->
                     <Image Source="settings_icon.png"
                            HeightRequest="150"
                            Aspect="AspectFit"
                            HorizontalOptions="Center"
                            Margin="0,0,0,20"/>

                     <Label Text="Application Settings"
                                   FontSize="24"
                                   HorizontalOptions="Center"
                                   TextColor="{DynamicResource PrimaryTextColor}"/>
                     <!-- Theme Section -->
                     <Border Stroke="{DynamicResource BorderColor}"
                             BackgroundColor="{DynamicResource PageBackgroundColor}">
                            <VerticalStackLayout Spacing="16">
                                   <Label Text="App Theme"
                                          FontSize="18"
                                          FontAttributes="Bold"
                                          TextColor="{DynamicResource PrimaryTextColor}"/>

                                   <Label Text="Choose your preferred appearance for the app:"
                                          FontSize="14"
                                          TextColor="{DynamicResource PrimaryTextColor}"/>
                                   <RadioButton x:Name="SystemThemeRadio"
                                                Content="System Theme"
                                                GroupName="ThemeGroup"
                                                CheckedChanged="ThemeRadioButton_CheckedChanged"
                                                TextColor="{DynamicResource PrimaryTextColor}"
                                                IsChecked="True"/>

                                   <RadioButton x:Name="LightThemeRadio"
                                                Content="Light Theme"
                                                GroupName="ThemeGroup"
                                                TextColor="{DynamicResource PrimaryTextColor}"
                                                CheckedChanged="ThemeRadioButton_CheckedChanged"/>

                                   <RadioButton x:Name="DarkThemeRadio"
                                                Content="Dark Theme"
                                                GroupName="ThemeGroup"
                                                TextColor="{DynamicResource PrimaryTextColor}"
                                                CheckedChanged="ThemeRadioButton_CheckedChanged"/>

                                   <Label Text="Theme changes will apply immediately"
                                          FontSize="12"
                                          TextColor="{AppThemeBinding Light=Gray, Dark=#BBBBBB}"/>
                            </VerticalStackLayout>
                     </Border>

                     <!-- Data File Section -->
                     <Border Stroke="{DynamicResource BorderColor}"
                             BackgroundColor="{DynamicResource PageBackgroundColor}">
                            <VerticalStackLayout Spacing="16">
                                   <Label Text="Data File Location"
                                          FontSize="18"
                                          FontAttributes="Bold"
                                          TextColor="{DynamicResource PrimaryTextColor}"/>

                                   <Label x:Name="DataFilePath"
                                          Text="Loading..."
                                          FontSize="14"
                                          LineBreakMode="CharacterWrap"
                                          TextColor="{DynamicResource PrimaryTextColor}"/>

                                   <HorizontalStackLayout Spacing="10"
                                                 HorizontalOptions="Center">
                                          <Button x:Name="SelectDataFileButton"
                                                  Text="Select File"
                                                  Clicked="SelectDataFileButton_Clicked"
                                                  BackgroundColor="#008000"
                                                  TextColor="White"
                                                  WidthRequest="110"/>

                                          <Button x:Name="CreateDataFileButton"
                                                  Text="Create New"
                                                  Clicked="CreateDataFileButton_Clicked"
                                                  BackgroundColor="#0078D4"
                                                  TextColor="White"
                                                  WidthRequest="110"/>

                                          <Button x:Name="UseDefaultButton"
                                                  Text="Use Default"
                                                  Clicked="UseDefaultButton_Clicked"
                                                  BackgroundColor="#512BD4"
                                                  TextColor="White"
                                                  WidthRequest="110"/>
                                   </HorizontalStackLayout>
                            </VerticalStackLayout>
                     </Border>

                     <!-- About Section -->
                     <Border Stroke="{DynamicResource BorderColor}"
                             BackgroundColor="{DynamicResource PageBackgroundColor}">
                            <VerticalStackLayout Spacing="8">
                                   <Label Text="About"
                                          FontSize="18"
                                          FontAttributes="Bold"
                                          TextColor="{DynamicResource PrimaryTextColor}"/>

                                   <Label Text="CafeMaestro - Coffee Roasting App"
                                          FontSize="16"
                                          TextColor="{DynamicResource PrimaryTextColor}"/>

                                   <HorizontalStackLayout Spacing="5">
                                          <Label Text="Version:"
                                                 FontSize="14"
                                                 TextColor="{DynamicResource PrimaryTextColor}"/>
                                          <Label x:Name="VersionLabel"
                                                 Text="1.0.0"
                                                 FontSize="14"
                                                 TextColor="{DynamicResource PrimaryTextColor}"/>
                                   </HorizontalStackLayout>

                                   <Label Text="Â© 2025 CafeMaestro Team"
                                          FontSize="14"
                                          TextColor="{AppThemeBinding Light=Gray, Dark=#BBBBBB}"/>
                            </VerticalStackLayout>
                     </Border>
              </VerticalStackLayout>
       </ScrollView>
</ContentPage>