<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CafeMaestro.SettingsPage"
             BackgroundColor="{DynamicResource PageBackgroundColor}"
             Title="Settings">
       <ScrollView Padding="0"
                   Margin="0">
              <Grid RowDefinitions="Auto, *"
                    Padding="0"
                    Margin="0">
                     <!-- Header Area - Clean Design -->
                     <Grid Grid.Row="0"
                           ColumnDefinitions="Auto,*"
                           Padding="20,20"
                           HeightRequest="100"
                           HorizontalOptions="Fill"
                           Margin="0">
                            <!-- Logo and Title within Header -->
                            <Image Grid.Column="0"
                                   Source="settings_icon.png"
                                   HeightRequest="60"
                                   WidthRequest="60"
                                   Aspect="AspectFit"
                                   VerticalOptions="Center"/>
                            <Label Grid.Column="1"
                                   Text="Application Settings"
                                   FontSize="28"
                                   FontAttributes="Bold"
                                   HorizontalOptions="Start"
                                   VerticalOptions="Center"
                                   TextColor="{DynamicResource PrimaryColor}"
                                   Margin="16,0,0,0"/>
                     </Grid>

                     <!-- Main Content Area -->
                     <VerticalStackLayout Grid.Row="1"
                                          Padding="24,0,24,24"
                                          Spacing="15"
                                          BackgroundColor="{DynamicResource PageBackgroundColor}"
                                          Margin="0,10,0,0">
                            <!-- Theme Section -->
                            <Border Stroke="{DynamicResource BorderColor}"
                                    StrokeThickness="0.5"
                                    StrokeShape="RoundRectangle 12">
                                   <Border.Shadow>
                                          <Shadow Brush="#20000000"
                                                  Offset="0,2"
                                                  Radius="4"
                                                  Opacity="0.2"/>
                                   </Border.Shadow>
                                   <VerticalStackLayout Spacing="16"
                                                        Padding="16,10">
                                          <Label Text="App Theme"
                                                 FontSize="18"
                                                 FontAttributes="Bold"
                                                 TextColor="{DynamicResource PrimaryTextColor}"/>

                                          <Picker x:Name="ThemePicker" 
                                                  Title="Select your preferred theme for the app"
                                                  SelectedIndexChanged="ThemePicker_SelectedIndexChanged"
                                                  TextColor="{DynamicResource PrimaryTextColor}"
                                                  TitleColor="{DynamicResource SecondaryTextColor}"
                                                  BackgroundColor="{DynamicResource InputBackgroundColor}"
                                                  Margin="0,5,0,10">
                                              <Picker.Items>
                                                  <x:String>System Theme</x:String>
                                                  <x:String>Light Theme</x:String>
                                                  <x:String>Dark Theme</x:String>
                                              </Picker.Items>
                                          </Picker>
                                   </VerticalStackLayout>
                            </Border>

                            <!-- Data File Section -->
                            <Border x:Name="DataFileSection"
                                    Stroke="{DynamicResource BorderColor}"
                                    BackgroundColor="{DynamicResource PageBackgroundColor}"
                                    StrokeThickness="0.5"
                                    StrokeShape="RoundRectangle 12">
                                   <Border.Shadow>
                                          <Shadow Brush="#20000000"
                                                  Offset="0,2"
                                                  Radius="4"
                                                  Opacity="0.2"/>
                                   </Border.Shadow>
                                   <VerticalStackLayout Spacing="16"
                                                        Padding="16,10">
                                          <Label Text="Data File Location"
                                                 FontSize="18"
                                                 FontAttributes="Bold"
                                                 TextColor="{DynamicResource PrimaryTextColor}"/>

                                          <Label x:Name="DataFilePath"
                                                 Text="Loading..."
                                                 FontSize="14"
                                                 LineBreakMode="CharacterWrap"
                                                 TextColor="{DynamicResource PrimaryTextColor}"/>

                                          <HorizontalStackLayout Spacing="10"
                                                                 HorizontalOptions="Center">
                                                 <ImageButton x:Name="NewDataFileButton"
                                                              Source="new_icon.png"
                                                              Clicked="NewDataFileButton_Clicked"
                                                              BackgroundColor="#0078D4"
                                                              WidthRequest="50"
                                                              HeightRequest="50"
                                                              Padding="10"
                                                              CornerRadius="25"/>

                                                 <ImageButton x:Name="ExistingDataFileButton"
                                                              Source="load_icon.png"
                                                              Clicked="ExistingDataFileButton_Clicked"
                                                              BackgroundColor="#008000"
                                                              WidthRequest="50"
                                                              HeightRequest="50"
                                                              Padding="10"
                                                              CornerRadius="25"/>

                                                 <ImageButton x:Name="ExportButton"
                                                              Source="export_icon.png"
                                                              Clicked="ExportButton_Clicked"
                                                              BackgroundColor="{DynamicResource SecondaryColor}"
                                                              WidthRequest="50"
                                                              HeightRequest="50"
                                                              Padding="10"
                                                              CornerRadius="25"/>

                                                 <ImageButton x:Name="ImportButton"
                                                              Source="import_icon.png"
                                                              Clicked="ImportButton_Clicked"
                                                              BackgroundColor="{DynamicResource TertiaryColor}"
                                                              WidthRequest="50"
                                                              HeightRequest="50"
                                                              Padding="10"
                                                              CornerRadius="25"/>
                                          </HorizontalStackLayout>
                                   </VerticalStackLayout>
                            </Border>

                            <!-- About Section -->
                            <Border Stroke="{DynamicResource BorderColor}"
                                    BackgroundColor="{DynamicResource PageBackgroundColor}"
                                    StrokeThickness="0.5"
                                    StrokeShape="RoundRectangle 12">
                                   <Border.Shadow>
                                          <Shadow Brush="#20000000"
                                                  Offset="0,2"
                                                  Radius="4"
                                                  Opacity="0.2"/>
                                   </Border.Shadow>
                                   <VerticalStackLayout Spacing="8"
                                                        Padding="16,10">

                                          <Label Text="About"
                                                 FontSize="18"
                                                 FontAttributes="Bold"
                                                 TextColor="{DynamicResource PrimaryTextColor}"/>

                                          <Label Text="CafeMaestro - Coffee Roasting App"
                                                 FontSize="16"
                                                 TextColor="{DynamicResource PrimaryTextColor}"/>

                                          <HorizontalStackLayout Spacing="5">
                                                 <Label Text="Version:"
                                                        FontSize="14"
                                                        TextColor="{DynamicResource PrimaryTextColor}"/>
                                                 <Label x:Name="VersionLabel"
                                                        Text="1.0.0"
                                                        FontSize="14"
                                                        TextColor="{DynamicResource PrimaryTextColor}"/>
                                          </HorizontalStackLayout>
                                          <Label Text="© 2025 CafeMaestro Team"
                                                 FontSize="14"
                                                 TextColor="{AppThemeBinding Light=Gray, Dark=#BBBBBB}"/>
                                   </VerticalStackLayout>
                            </Border>
                     </VerticalStackLayout>
              </Grid>
       </ScrollView>
</ContentPage>